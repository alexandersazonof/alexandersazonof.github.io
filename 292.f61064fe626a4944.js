"use strict";(self.webpackChunktetu_game_ui=self.webpackChunktetu_game_ui||[]).push([[292],{47292:(A,b,i)=>{i.r(b),i.d(b,{DelegateModule:()=>_e});var n=i(35103),M=i(16268),w=i(28230),T=i(82865),O=i(76291),d=i(5476),y=i(68305),E=i(34251),h=i(9685),S=i(75990),x=i(68351),I=i(71016),f=i(1597),s=i(8838),_=i(26038),g=i(76171),c=i(57563),p=i(2048),C=i(89017),u=i(35879),Z=i(14111),D=i(90410),P=i(43195),U=i(28589),e=i(98678),k=i(43605),N=i(39283),R=i(11517),K=i(46693),J=i(97419),z=i(30611),Q=i(81183),H=i(59634),F=i(48821),Y=i(31584),B=i(46835),j=i(13252);function L(o,l){1&o&&e._UZ(0,"app-loading-small")}function G(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"div",25),e._uU(3),e.qZA(),e.TgZ(4,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onCopy())}),e.qZA()(),e.TgZ(5,"div",27),e._UZ(6,"img",28),e.TgZ(7,"div",25),e._uU(8),e.qZA(),e._UZ(9,"img",3),e.qZA(),e.TgZ(10,"div",24),e._UZ(11,"img",29),e.TgZ(12,"div",25),e._uU(13),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.delegatorFormatted," "),e.xp6(5),e.hij(" ",t.delegatorBalance.toFixed(4)," "),e.xp6(5),e.hij(" ",t.delegatorDeadlineFormatted," ")}}function $(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-radio-group",30),e.NdJ("choose",function(a){e.CHM(t);const v=e.oxw(2);return e.KtG(v.onSelectAction(a))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("items",t.actionTypes)("isShowDivider",!1)("selectedItemId",t.selectedActionId)("isUseStyle2",!0)("isWrapLabel",!0)}}function W(o,l){if(1&o&&(e.ynx(0),e._UZ(1,"input",38)(2,"input",39),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("formControl",t.passwordControl),e.xp6(1),e.Q6J("formControl",t.repeatPasswordControl)}}function X(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.isShowPassword=!a.isShowPassword)}),e._UZ(2,"div",33),e.TgZ(3,"div",34),e._uU(4),e.qZA()(),e.YNc(5,W,3,2,"ng-container",20),e.TgZ(6,"div",35),e._uU(7," Send "),e.TgZ(8,"b"),e._uU(9),e.qZA(),e._uU(10," to the delegator for spending on gas. "),e._UZ(11,"br"),e._uU(12),e._UZ(13,"br"),e.qZA(),e._UZ(14,"input",36),e.TgZ(15,"button",37),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.createDelegation())}),e._uU(16," Delegate "),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.isShowPassword?"Hide password":"Add password"," "),e.xp6(1),e.Q6J("ngIf",t.isShowPassword),e.xp6(4),e.hij(" ",t.symbolNetworkCoin(),""),e.xp6(3),e.hij(" ",t.symbolNetworkCoin()," will be returned to you when you stop delegation. "),e.xp6(2),e.Q6J("formControl",t.amountControl),e.xp6(1),e.Q6J("disabled",t.passwordControl.value!==t.repeatPasswordControl.value||t.amountControl.invalid||!t.amountControl.value||t.amountControl.value<t.minNetworkCoinBalance(t.chainId)||t.processing)}}function V(o,l){1&o&&(e.TgZ(0,"div",35),e._uU(1," The delegator balance is very low! "),e._UZ(2,"br"),e._uU(3," Send additional funds to the delegator address on Refresh delegation page. "),e.qZA())}function q(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",42),e._UZ(1,"input",44),e.TgZ(2,"button",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.useDelegation())}),e._uU(3," Delegate "),e.qZA()()}if(2&o){const t=e.oxw(4);e.xp6(1),e.Q6J("formControl",t.passwordControl),e.xp6(1),e.Q6J("disabled",t.processing)}}function ee(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",35),e._uU(2,"You are using delegated transactions!"),e.qZA(),e.TgZ(3,"button",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.copyPK())}),e._uU(4," Copy private key "),e.qZA()()}if(2&o){const t=e.oxw(4);e.xp6(3),e.Q6J("disabled",t.processing)}}function te(o,l){if(1&o&&(e.TgZ(0,"div",42),e.YNc(1,V,4,0,"div",43),e.YNc(2,q,4,2,"div",41),e.YNc(3,ee,5,1,"div",41),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.isEnoughBalanceOnDelegator()),e.xp6(1),e.Q6J("ngIf",!t.isDelegatorUsed()),e.xp6(1),e.Q6J("ngIf",t.isDelegatorUsed())}}function ne(o,l){if(1&o&&e._UZ(0,"input",44),2&o){const t=e.oxw(4);e.Q6J("formControl",t.passwordControl)}}function oe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",35),e._uU(2," Remove granted access to the delegator and return the funds. "),e.qZA(),e.YNc(3,ne,1,1,"input",46),e.TgZ(4,"button",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.stopDelegation())}),e._uU(5," Stop delegation "),e.qZA(),e.TgZ(6,"div",35),e._uU(7," If you lose your password, you can remove delegation without the password. But you will not receive the funds back! "),e.qZA(),e.TgZ(8,"button",47),e.NdJ("hostClick",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.stopDelegationWithoutPassword())}),e._uU(9," Emergency stop "),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isEmptyPassword()),e.xp6(1),e.Q6J("disabled",t.processing),e.xp6(4),e.Q6J("isDisabled",t.processing)("isNeedConfirm",!0)("isNeedConfirmPush",!0)("confirmLabel","Are you sure?")}}function ie(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",35),e._uU(2," Send additional FTM to the delegator address and extend the delegation period. "),e.qZA(),e._UZ(3,"input",36),e.TgZ(4,"button",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.refreshDelegation())}),e._uU(5," Refresh delegation "),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("formControl",t.amountControl),e.xp6(1),e.Q6J("disabled",!t.amountControl.value||t.processing)}}function ae(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",42),e._UZ(1,"input",48)(2,"input",49)(3,"input",50),e.TgZ(4,"button",37),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.changePassword())}),e._uU(5," Change password "),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("formControl",t.passwordControl),e.xp6(1),e.Q6J("formControl",t.newPasswordControl),e.xp6(1),e.Q6J("formControl",t.repeatPasswordControl),e.xp6(1),e.Q6J("disabled",t.newPasswordControl.value!==t.repeatPasswordControl.value||t.processing)}}function se(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",35),e._uU(2," Remove all data from local storage in case of troubles. "),e._UZ(3,"br"),e._uU(4," You will lost access to the delegator and all funds on the delegator balance! "),e._UZ(5,"br"),e._uU(6," Use it only in emergency case. "),e.qZA(),e.TgZ(7,"button",47),e.NdJ("hostClick",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.clearPK())}),e._uU(8," Clear data "),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(7),e.Q6J("isDisabled",t.processing)("isNeedConfirm",!0)("isNeedConfirmPush",!0)("confirmLabel","Are you sure?")}}function re(o,l){if(1&o&&(e.ynx(0),e._UZ(1,"app-scratch",40),e.YNc(2,te,4,3,"div",41),e.YNc(3,oe,10,6,"div",41),e.YNc(4,ie,6,2,"div",41),e.YNc(5,ae,6,4,"div",41),e.YNc(6,se,9,4,"div",41),e.BQk()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.selectedActionId===t.ACTION_TYPES.USE),e.xp6(1),e.Q6J("ngIf",t.selectedActionId===t.ACTION_TYPES.STOP),e.xp6(1),e.Q6J("ngIf",t.selectedActionId===t.ACTION_TYPES.REFRESH),e.xp6(1),e.Q6J("ngIf",t.selectedActionId===t.ACTION_TYPES.CHANGE),e.xp6(1),e.Q6J("ngIf",t.selectedActionId===t.ACTION_TYPES.CLEAR)}}function ge(o,l){if(1&o&&(e.TgZ(0,"div",51),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMsg," ")}}function le(o,l){1&o&&e._UZ(0,"app-loading-small")}function ce(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12),e._uU(2,"Session settings"),e.qZA(),e.TgZ(3,"div",13),e._UZ(4,"img",14),e.TgZ(5,"div"),e._uU(6,"Delegate transactions"),e.qZA(),e.TgZ(7,"img",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onShowDelegateDialog())}),e.qZA()(),e.YNc(8,G,14,3,"div",16),e.YNc(9,$,1,5,"app-radio-group",17),e.TgZ(10,"div",18),e.YNc(11,X,17,6,"div",19),e.YNc(12,re,7,5,"ng-container",20),e.YNc(13,ge,2,1,"div",21),e.YNc(14,le,1,0,"app-loading-small",20),e.qZA(),e.TgZ(15,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.startGame())}),e._uU(16," Play "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("src",t.isDelegatorUsed()?"/assets/images/ui/icons/other/thunderbolt.png":"/assets/images/ui/buttons/other/thunderbolt/disabled.png",e.LSH),e.xp6(4),e.Q6J("ngIf",!t.isDelegatorEmpty),e.xp6(1),e.Q6J("ngIf",!t.isDelegatorEmpty),e.xp6(2),e.Q6J("ngIf",t.isDelegatorEmpty),e.xp6(1),e.Q6J("ngIf",!t.isDelegatorEmpty),e.xp6(1),e.Q6J("ngIf",""!==t.errorMsg),e.xp6(1),e.Q6J("ngIf",t.processing)}}var m=(()=>{return(o=m||(m={})).USE="use",o.STOP="stop",o.REFRESH="refresh",o.CHANGE="change",o.CLEAR="clear",m;var o})();const de=[{path:O.EX.EMPTY,component:(()=>{class o{constructor(t,r,a,v,he,ue,me,xe,fe,Ce,ve){this.router=t,this.soundService=r,this.dialog=a,this.destroy$=v,this.providerService=he,this.changeDetectorRef=ue,this.relayService=me,this.storageService=xe,this.logger=fe,this.clipboard=Ce,this.appStateService=ve,this.delegateControl=new d.NI(s.H.NONE),this.isExpanded=!1,this.isLoading=!0,this.processing=!1,this.errorMsg="",this.delegator=x.je,this.delegatorFormatted="",this.nonce=0n,this.delegatorDeadline=0n,this.delegatorBalance=0,this.accountBalance=0,this.isDelegatorEmpty=!0,this.delegatorDeadlineFormatted="",this.isShowPassword=!1,this.isMobile=(0,E.tq)(),this.passwordControl=new d.NI("",{validators:[d.kI.required]}),this.repeatPasswordControl=new d.NI("",{validators:[d.kI.required]}),this.newPasswordControl=new d.NI("",{validators:[d.kI.required]}),this.amountControl=new d.NI(.1,{validators:[d.kI.required]}),this.actionTypes=[{id:m.USE,label:"Use delegation",icon:"/assets/images/ui/buttons/other/thunderbolt/default.png",iconDisabled:"/assets/images/ui/buttons/other/thunderbolt/disabled.png"},{id:m.REFRESH,label:"Refresh delegation",icon:"/assets/images/ui/buttons/other/refresh/default.png",iconDisabled:"/assets/images/ui/buttons/other/refresh/disabled.png"},{id:m.STOP,label:"Stop delegation",icon:"/assets/images/ui/buttons/other/stop/default.png",iconDisabled:"/assets/images/ui/buttons/other/stop/disabled.png"},{id:m.CHANGE,label:"Change password",icon:"/assets/images/ui/buttons/other/key/default.png",iconDisabled:"/assets/images/ui/buttons/other/key/disabled.png"},{id:m.CLEAR,label:"Clear data",icon:"/assets/images/ui/buttons/other/trash/default.png",iconDisabled:"/assets/images/ui/buttons/other/trash/disabled.png"}],this.selectedActionId=m.USE,this.ACTION_TYPES=m,this.CHECKBOX_STATE=s.H,this.minNetworkCoinBalance=P.Ej}ngOnInit(){if(this.appStateService.setHeaderState({isBackButtonShown:!0,isInventoryShown:!0,isAccountAddressShown:!0,isAccountBalanceShown:!0,isHeroNameShown:!0,isHeroClassNameShown:!0}),this.storageService.get(h.Mp)){const t=JSON.parse(this.storageService.get(h.Mp));this.delegateControl.setValue(t===s.H.CHECKED?s.H.NONE:s.H.CHECKED)}this.isExpanded=this.delegateControl.value===s.H.CHECKED,this.delegateControl.valueChanges.pipe((0,u.R)(this.destroy$)).subscribe(()=>{this.storageService.set(h.Mp,JSON.stringify(this.delegateControl.value===s.H.CHECKED?s.H.NONE:s.H.CHECKED))}),this.amountControl.valueChanges.pipe((0,u.R)(this.destroy$)).subscribe(()=>{this.errorMsg=!this.amountControl.value||this.amountControl.value<(0,P.Ej)(this.chainId)?"Too low amount":""}),this.providerService.subscribeOnAccountAndNetwork(this.destroy$,this.changeDetectorRef,t=>{this.account=t,this.init()},t=>{this.chainId=t,this.init()})}startGame(){this.soundService.play({key:"enter_game"}),this.router.navigate([O.EX.HERO,x.je,0])}onShowDelegateDialog(){this.dialog.open(S.W,{panelClass:"app-overlay-pane",data:{infoTitle:"Delegate transactions",infoDesc:"Enable seamless gameplay by delegating transaction signing to a local private key, which will be securely encrypted and stored in your browser."}})}storageDelegatePkKey(){return"TETU_GAME_DELEGATE_PK_"+this.account}init(){this.account&&this.chainId&&(this.isLoading=!0,this.changeDetectorRef.markForCheck(),this.relayService.userInfo$(this.chainId,this.account).pipe((0,u.R)(this.destroy$)).subscribe(t=>{this.delegator=t.delegator,this.delegatorFormatted=U.M.formatAddress(this.delegator,"short"),this.isDelegatorEmpty=this.delegator===x.je,this.nonce=t.nonce,this.delegatorDeadline=t.delegatorDeadline,this.delegatorDeadlineFormatted=(0,g.Z)(new Date,new Date(1e3*Number(this.delegatorDeadline)),{includeSeconds:!0}),this.logger.trace("this.delegator",this.delegator),this.logger.trace("this.nonce",this.nonce),this.logger.trace("this.delegatorDeadline",this.delegatorDeadline),this.loadDelegatorBalance(),this.loadAccountBalance(),this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}instantDelegate(){const t=this.isEmptyPassword();this.delegator!==x.je&&t&&!this.isDelegatorOutOfDate()&&this.isPKExist()&&this.useDelegation()}isEmptyPassword(){return"true"===this.storageService.get(h.r5)}loadDelegatorBalance(){this.delegator!==x.je&&(0,Z.D)(this.providerService.getProviderForRead().provider.getBalance(this.delegator)).pipe((0,u.R)(this.destroy$)).subscribe(t=>{this.logger.trace("delegator balance",t),this.delegatorBalance=+(0,c.bM)(t),this.changeDetectorRef.detectChanges(),this.instantDelegate()})}loadAccountBalance(){(0,Z.D)(this.providerService.getProviderForRead().provider.getBalance(this.account)).pipe((0,u.R)(this.destroy$)).subscribe(t=>{this.logger.trace("account balance",t),this.accountBalance=+(0,c.bM)(t),this.changeDetectorRef.detectChanges(),this.amountControl.setValue(this.amountToDelegated())})}isDelegatorUsed(){return this.providerService.isLocalPK()}isDelegatorOutOfDate(){return this.delegatorDeadline<BigInt(((new Date).getTime()/1e3).toFixed(0))}amountToDelegated(){const t=(0,f.ET)(this.chainId)[f.gw.COINS_FOR_DELEGATION]??1;return.9*this.accountBalance<t?+(this.accountBalance/2).toFixed(2):t}symbolNetworkCoin(){return(0,f.ET)(this.chainId)[f.gw.TOKEN_NAME]??"???"}getPrivateKeyFromStorage(){const t=this.storageService.get(this.storageDelegatePkKey());return t?_.AES.decrypt(t,this.passwordControl.value||"").toString(_.enc.Utf8):""}isPasswordCorrect(){try{const t=this.getPrivateKeyFromStorage();return this.validatePK(t),!0}catch(t){return this.logger.trace(t),!1}}isPKExist(){return""!==this.storageService.get(this.storageDelegatePkKey())}isEnoughBalanceOnDelegator(){return this.delegatorBalance>((0,f.ET)(this.chainId)[f.gw.COINS_FOR_DELEGATION]??1)/10}validatePK(t){try{if(!new p.E(t).compressedPublicKey)throw new Error("no compressedPublicKey")}catch(r){throw this.logger.trace("signer check error",r),new Error("Invalid private key "+t)}return t}calcAmountWithdrawFromDelegator(){return this.delegatorBalance-(0,P.Ej)(this.chainId)}createDelegation(){const t=this.amountControl.value??0;if(t<(0,P.Ej)(this.chainId))return this.errorMsg="Too low amount",void this.changeDetectorRef.detectChanges();this.passwordControl.disable(),this.repeatPasswordControl.disable(),this.processing=!0,this.errorMsg="",this.changeDetectorRef.detectChanges();const r=this.passwordControl.value||"";""===r&&this.storageService.set(h.r5,"true");const a=C.w.createRandom(),v=_.AES.encrypt(a.privateKey,r).toString();this.storageService.set(this.storageDelegatePkKey(),v),this.providerService.setupPrivateKeyDelegated(a.privateKey),this.relayService.delegate$(this.chainId,a.address,t).pipe((0,D.x)(()=>{this.processing=!1,this.passwordControl.enable(),this.repeatPasswordControl.enable(),this.passwordControl.reset(),this.repeatPasswordControl.reset(),this.changeDetectorRef.detectChanges()}),(0,u.R)(this.destroy$)).subscribe(()=>{this.init()})}changePassword(){this.errorMsg="",this.changeDetectorRef.detectChanges();let t="";if(console.log("is pk exist",this.isPKExist()),this.isPKExist()&&!this.isPasswordCorrect())return this.errorMsg="Invalid password",void this.changeDetectorRef.detectChanges();if(this.isPKExist())try{t=this.getPrivateKeyFromStorage()}catch{return}const r=this.newPasswordControl.value||"";this.storageService.set(h.r5,""===r?"true":"false");const a=_.AES.encrypt(t,r).toString();this.storageService.set(this.storageDelegatePkKey(),a),this.newPasswordControl.reset(),this.passwordControl.reset(),this.repeatPasswordControl.reset(),this.errorMsg="Password changed!",this.changeDetectorRef.detectChanges()}stopDelegation(){this.errorMsg="";let t="";if(console.log("is pk exist",this.isPKExist()),this.isPKExist()&&!this.isPasswordCorrect())return this.errorMsg="Invalid password",void this.changeDetectorRef.detectChanges();if(this.isPKExist())try{t=this.getPrivateKeyFromStorage()}catch{return}if(this.processing=!0,this.changeDetectorRef.detectChanges(),""!==t){if(new C.w(t).address.toLowerCase()!==this.delegator.toLowerCase())return this.logger.error("Private key for not delegator",new C.w(t).address,this.delegator),this.errorMsg="Private key for not delegator",void this.changeDetectorRef.detectChanges();this.providerService.setupPrivateKeyDelegated(t),this.relayService.closeDelegation$(this.chainId,this.account,this.calcAmountWithdrawFromDelegator(),this.delegator).pipe((0,D.x)(()=>{this.processing=!1,this.passwordControl.enable(),this.passwordControl.reset(),this.repeatPasswordControl.reset(),this.changeDetectorRef.detectChanges()}),(0,u.R)(this.destroy$)).subscribe(()=>{this.storageService.remove(this.storageDelegatePkKey()),this.storageService.remove(h.r5),this.init()})}}stopDelegationWithoutPassword(){this.errorMsg="",this.processing=!0,this.changeDetectorRef.detectChanges(),this.relayService.delegate$(this.chainId,x.je,0).pipe((0,D.x)(()=>{this.processing=!1,this.changeDetectorRef.detectChanges()}),(0,u.R)(this.destroy$)).subscribe(()=>{this.storageService.remove(this.storageDelegatePkKey()),this.storageService.remove(h.r5),this.init()})}useDelegation(){this.errorMsg="";let t="";if(!this.isPKExist()||this.isPasswordCorrect()){if(this.isPKExist())try{t=this.getPrivateKeyFromStorage()}catch{return}if(new C.w(t).address.toLowerCase()!==this.delegator.toLowerCase())return this.logger.error("Private key for not delegator",new C.w(t).address,this.delegator),this.errorMsg="Private key for not delegator",void this.changeDetectorRef.detectChanges();""!==t&&this.providerService.setupPrivateKeyDelegated(t),this.changeDetectorRef.detectChanges()}else this.errorMsg="Invalid password"}clearPK(){this.storageService.remove(this.storageDelegatePkKey()),this.storageService.remove(h.r5),this.init()}refreshDelegation(){if(!this.delegator||""===this.delegator||this.delegator===x.je)return;const t=this.amountControl.value??0;if(t<(0,P.Ej)(this.chainId))return this.errorMsg="Too low amount",void this.changeDetectorRef.detectChanges();this.processing=!0,this.errorMsg="",this.changeDetectorRef.detectChanges(),this.relayService.delegate$(this.chainId,this.delegator,t).pipe((0,D.x)(()=>{this.processing=!1,this.passwordControl.enable(),this.passwordControl.reset(),this.changeDetectorRef.detectChanges()}),(0,u.R)(this.destroy$)).subscribe(()=>{this.init()})}onCopy(){this.clipboard.copy(this.delegator)}copyPK(){const t=this.getPrivateKeyFromStorage();this.clipboard.copy(t)}onSelectAction({id:t}){this.selectedActionId=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M.F0),e.Y36(k.y),e.Y36(N.Vq),e.Y36(y.z),e.Y36(R.H),e.Y36(e.sBO),e.Y36(K.D),e.Y36(J.V),e.Y36(z.Kf),e.Y36(Q.TU),e.Y36(H.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delegate"]],hostAttrs:[1,"g-flex-column","g-flex-column__item","g-flex--align-center"],features:[e._Bn([y.z])],decls:15,vars:4,consts:[[1,"tokens","g-flex","g-flex--align-center","g-flex--space-between"],[1,"app-btn-token-banner-1","g-flex","g-flex--align-center","g-flex--space-between","pointer"],[1,"app-btn_font-size","text-shadow"],["src","assets/images/ui/icons/tokens/ftm.png","alt","ftm",1,"token-icon"],[1,"app-btn-token-banner-2","g-flex","g-flex--align-center","g-flex--space-between","pointer"],["src","assets/images/ui/icons/tokens/sacra.png","alt","sacra",1,"token-icon"],[1,"bg"],[1,"bg__1"],[4,"ngIf","ngIfElse"],["contentTpl",""],[1,"bg-down"],[1,"container","g-flex-column","g-flex--align-center","g-flex--justify-center"],[1,"title-a","app-btn-medium_font-size"],[1,"sub-title","title-a","app-btn-huge_font-size","g-flex","g-flex--align-center","g-flex--space-between","width-100"],["alt","",1,"thunderbolt",3,"src"],["src","/assets/images/ui/icons/other/info-holder-question.png","alt","",3,"click"],["class","info g-flex g-flex--align-center",4,"ngIf"],["class","radio-group g-flex g-flex--justify-center","size","default","dividerType","small",3,"items","isShowDivider","selectedItemId","isUseStyle2","isWrapLabel","choose",4,"ngIf"],[1,"content","g-flex-column","g-flex--align-center","gap-32"],["class","no-password g-flex-column g-flex--align-center gap-32",4,"ngIf"],[4,"ngIf"],["class","app-btn_font-size color-red-fire text-shadow",4,"ngIf"],[1,"btn-play","app-btn-green-1","pointer","g-flex","g-flex--align-center","g-flex--justify-center","color-try","text-shadow",3,"click"],[1,"info","g-flex","g-flex--align-center"],[1,"g-flex","g-flex--align-center","g-flex__item-fixed"],[1,"app-btn_font-size","color-positive-value"],[1,"app-btn-copy",3,"click"],[1,"g-flex","g-flex--align-center","g-flex--justify-center","g-flex__item"],["src","assets/images/ui/icons/other/wallet.png","alt","wallet",1,"wallet"],["src","assets/images/ui/icons/other/timer.png","alt","timer",1,"timer-icon"],["size","default","dividerType","small",1,"radio-group","g-flex","g-flex--justify-center",3,"items","isShowDivider","selectedItemId","isUseStyle2","isWrapLabel","choose"],[1,"no-password","g-flex-column","g-flex--align-center","gap-32"],[1,"btn","g-flex-column","g-flex--align-center","pointer",3,"click"],[1,"app-btn-key"],[1,"btn__label","btn__label--big","app-btn-small_font-size"],[1,"content-text","app-btn-small_font-size","text-shadow"],["type","number","placeholder","Amount",1,"app-input","app-input--huge","app-btn_font-size",3,"formControl"],[1,"btn-delegate","app-btn-red-3","g-flex","g-flex--align-center","g-flex--justify-center",3,"disabled","click"],["type","password","placeholder","Password (optional)",1,"app-input","app-input--huge","app-btn_font-size",3,"formControl"],["type","password","placeholder","Repeat password",1,"app-input","app-input--huge","app-btn_font-size",3,"formControl"],["backgroundType","huge",1,"scratch-content"],["class","g-flex-column g-flex--align-center gap-32",4,"ngIf"],[1,"g-flex-column","g-flex--align-center","gap-32"],["class","content-text app-btn-small_font-size text-shadow",4,"ngIf"],["type","password","placeholder","Password",1,"app-input","app-input--huge","app-btn_font-size",3,"formControl"],[1,"app-btn-blue-3","g-flex","g-flex--align-center","g-flex--justify-center",3,"disabled","click"],["type","password","placeholder","Password","class","app-input app-input--huge app-btn_font-size",3,"formControl",4,"ngIf"],["appButtonClick","",1,"app-btn-blue-3","g-flex","g-flex--align-center","g-flex--justify-center",3,"isDisabled","isNeedConfirm","isNeedConfirmPush","confirmLabel","hostClick"],["type","password","placeholder","Old Password",1,"app-input","app-input--huge","app-btn_font-size",3,"formControl"],["type","password","placeholder","New Password",1,"app-input","app-input--huge","app-btn_font-size",3,"formControl"],["type","password","placeholder","Repeat new password",1,"app-input","app-input--huge","app-btn_font-size",3,"formControl"],[1,"app-btn_font-size","color-red-fire","text-shadow"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"button",1)(2,"div",2),e._uU(3,"Buy FTM"),e.qZA(),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"button",4),e._UZ(6,"img",5),e.TgZ(7,"div",2),e._uU(8,"Buy SACRA"),e.qZA()()(),e.TgZ(9,"div",6),e._UZ(10,"div",7),e.qZA(),e.YNc(11,L,1,0,"app-loading-small",8),e.YNc(12,ce,17,7,"ng-template",null,9,e.W1O),e._UZ(14,"div",10)),2&t){const a=e.MAs(13);e.xp6(9),e.ekj("bg--desktop",!r.isMobile),e.xp6(2),e.Q6J("ngIf",r.isLoading)("ngIfElse",a)}},dependencies:[n.O5,F.T,Y.w,B.T,j.Y,d.Fj,d.wV,d.JJ,d.oH],styles:[".pointer[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:url(/assets/images/cursor/cursor-50-active.avif) 10 0,pointer}.no-action[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:none}.hidden[_ngcontent-%COMP%]{display:none!important}.width-100[_ngcontent-%COMP%]{width:100%}@keyframes button-process-animation{0%{text-shadow:none}to{text-shadow:0 0 16px #dfa94e}}.button-process-animation[_ngcontent-%COMP%]{animation-duration:1s;animation-name:button-process-animation;animation-iteration-count:infinite;animation-direction:alternate}.page-loader[_ngcontent-%COMP%]{position:absolute;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5}.gap-2[_ngcontent-%COMP%]{gap:2px}.gap-4[_ngcontent-%COMP%]{gap:4px}.gap-6[_ngcontent-%COMP%]{gap:6px}.gap-8[_ngcontent-%COMP%]{gap:8px}.gap-10[_ngcontent-%COMP%]{gap:10px}.gap-12[_ngcontent-%COMP%]{gap:12px}.gap-14[_ngcontent-%COMP%]{gap:14px}.gap-16[_ngcontent-%COMP%]{gap:16px}.gap-18[_ngcontent-%COMP%]{gap:18px}.gap-20[_ngcontent-%COMP%]{gap:20px}.gap-22[_ngcontent-%COMP%]{gap:22px}.gap-24[_ngcontent-%COMP%]{gap:24px}.gap-26[_ngcontent-%COMP%]{gap:26px}.gap-28[_ngcontent-%COMP%]{gap:28px}.gap-30[_ngcontent-%COMP%]{gap:30px}.gap-32[_ngcontent-%COMP%]{gap:32px}.gap-34[_ngcontent-%COMP%]{gap:34px}.gap-36[_ngcontent-%COMP%]{gap:36px}.gap-38[_ngcontent-%COMP%]{gap:38px}.gap-40[_ngcontent-%COMP%]{gap:40px}.gap-42[_ngcontent-%COMP%]{gap:42px}.gap-44[_ngcontent-%COMP%]{gap:44px}.gap-46[_ngcontent-%COMP%]{gap:46px}.gap-48[_ngcontent-%COMP%]{gap:48px}.gap-50[_ngcontent-%COMP%]{gap:50px}.gap-52[_ngcontent-%COMP%]{gap:52px}.gap-54[_ngcontent-%COMP%]{gap:54px}.gap-56[_ngcontent-%COMP%]{gap:56px}.gap-58[_ngcontent-%COMP%]{gap:58px}.gap-60[_ngcontent-%COMP%]{gap:60px}.gap-62[_ngcontent-%COMP%]{gap:62px}.gap-64[_ngcontent-%COMP%]{gap:64px}.gap-66[_ngcontent-%COMP%]{gap:66px}.gap-68[_ngcontent-%COMP%]{gap:68px}.gap-70[_ngcontent-%COMP%]{gap:70px}.gap-72[_ngcontent-%COMP%]{gap:72px}.gap-74[_ngcontent-%COMP%]{gap:74px}.gap-76[_ngcontent-%COMP%]{gap:76px}.gap-78[_ngcontent-%COMP%]{gap:78px}.gap-80[_ngcontent-%COMP%]{gap:80px}.gap-82[_ngcontent-%COMP%]{gap:82px}.gap-84[_ngcontent-%COMP%]{gap:84px}.gap-86[_ngcontent-%COMP%]{gap:86px}.gap-88[_ngcontent-%COMP%]{gap:88px}.gap-90[_ngcontent-%COMP%]{gap:90px}.gap-92[_ngcontent-%COMP%]{gap:92px}.gap-94[_ngcontent-%COMP%]{gap:94px}.gap-96[_ngcontent-%COMP%]{gap:96px}.gap-98[_ngcontent-%COMP%]{gap:98px}.gap-100[_ngcontent-%COMP%]{gap:100px}.color-enemy-name[_ngcontent-%COMP%]{color:#e03636}.color-negative-value[_ngcontent-%COMP%]{color:#dd6363}.color-positive-value[_ngcontent-%COMP%]{color:#a6a6a6}.color-mana[_ngcontent-%COMP%]{color:#8282f6}.color-red-fire[_ngcontent-%COMP%]{color:#dc3e3e}.color-yellow-fire[_ngcontent-%COMP%]{color:#dfa94e}.color-nickname[_ngcontent-%COMP%]{color:#d7a061}.color-caption[_ngcontent-%COMP%]{color:#a37c83}.bar-hp[_ngcontent-%COMP%]{color:#9af481}.bar-mp[_ngcontent-%COMP%]{color:#8282f6}.bar-exp[_ngcontent-%COMP%]{color:#ffda82}.bar-enemy[_ngcontent-%COMP%]{color:#fb9696}.color-try[_ngcontent-%COMP%]{color:#d8ffd4}.color-free[_ngcontent-%COMP%]{color:#f9fff5}[_nghost-%COMP%]{position:relative}.radio-group[_ngcontent-%COMP%]{margin-top:40px;padding:0 60px;z-index:5}.tokens[_ngcontent-%COMP%]{position:absolute;width:100%;padding:0 10px;z-index:3}.img[_ngcontent-%COMP%]{position:relative;z-index:2;opacity:.3}.sub-title[_ngcontent-%COMP%]{margin-top:40px;padding:0 60px}.bg[_ngcontent-%COMP%]{position:absolute;top:150px;z-index:4;pointer-events:none;-webkit-user-select:none;user-select:none;overflow:hidden}.bg--desktop[_ngcontent-%COMP%]{height:1550px}.bg__1[_ngcontent-%COMP%]{position:relative;width:1080px;height:1058px;background-image:url(/assets/images/ui/background-lists/auth/top.avif);background-repeat:no-repeat}.bg__2[_ngcontent-%COMP%]{position:relative;z-index:1;width:1080px;height:1300px;background-image:url(/assets/images/ui/background-lists/auth/middle.avif);background-repeat:repeat-y}.container[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:200px;z-index:4}.scratch-content[_ngcontent-%COMP%], .scratch2[_ngcontent-%COMP%]{margin:40px 0;align-self:center}.scratch-content[_ngcontent-%COMP%]{margin-top:12px}.content-text[_ngcontent-%COMP%]{padding:0 60px;text-align:center}.info[_ngcontent-%COMP%]{width:981px;height:88px;margin-top:20px;padding:0 40px;background-image:url(/assets/images/ui/background-lists/delegate/frame.avif)}.thunderbolt[_ngcontent-%COMP%]{width:75px}.btn__label[_ngcontent-%COMP%]{width:130px;text-align:center;line-height:1.4}.btn__label--small[_ngcontent-%COMP%]{width:100px}.btn__label--big[_ngcontent-%COMP%]{width:160px}.btn-play[_ngcontent-%COMP%]{margin-top:40px;z-index:9}.bg-down[_ngcontent-%COMP%]{margin-top:400px;width:1080px;height:3000px;background-image:url(/assets/images/ui/background-lists/auth/middle.avif);background-repeat:repeat-y}"],data:{animation:[I.A]},changeDetection:0}),o})()}];let _e=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[n.ez,M.Bz.forChild(de),T.m,w.r,d.UX]}),o})()},31584:(A,b,i)=>{i.d(b,{w:()=>f});var n=i(98678),M=i(8838),w=i(35103),T=i(48821),O=i(96342);function d(s,_){if(1&s&&(n.ynx(0),n._UZ(1,"img",12)(2,"img",12),n.BQk()),2&s){const g=n.oxw().$implicit,c=n.oxw();n.xp6(1),n.ekj("hidden",!(!g.iconDisabled||g.iconDisabled&&g.id===c.selectedItemId)),n.Q6J("src",g.icon,n.LSH),n.xp6(1),n.ekj("hidden",!(g.iconDisabled&&g.id!==c.selectedItemId)),n.Q6J("src",g.iconDisabled,n.LSH)}}function y(s,_){if(1&s&&n._UZ(0,"img",13),2&s){const g=n.oxw().$implicit,c=n.oxw();n.ekj("item__divider--big","big"===c.size)("item__divider--wrap",c.isWrapLabel)("item__divider--visible",g.id===c.selectedItemId)}}function E(s,_){if(1&s&&n._UZ(0,"img",14),2&s){const g=n.oxw().$implicit,c=n.oxw();n.ekj("item__divider--visible",g.id===c.selectedItemId)}}function h(s,_){1&s&&n._UZ(0,"img",15)}function S(s,_){1&s&&n._UZ(0,"img",16)}function x(s,_){if(1&s){const g=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"div",5),n.NdJ("click",function(){const C=n.CHM(g).$implicit,u=n.oxw();return n.KtG(u.onSelect(C))}),n.YNc(3,d,3,6,"ng-container",6),n.TgZ(4,"div",7),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.YNc(7,y,1,6,"img",8),n.YNc(8,E,1,2,"img",9),n.qZA(),n.YNc(9,h,1,0,"img",10),n.YNc(10,S,1,0,"img",11),n.qZA()()}if(2&s){const g=_.$implicit,c=_.last,p=n.oxw();n.ekj("item--style2",p.isUseStyle2)("pointer",!p.isDisabled&&p.isChangeManually)("app-btn-small_font-size","small"===p.size)("app-btn-medium_font-size","medium"===p.size)("app-btn-medium-small_font-size","medium-small"===p.size)("app-btn_font-size","default"===p.size)("app-btn-huge_font-size","big"===p.size)("item--disabled",p.isDisabled)("item--selected",g.id===p.selectedItemId),n.xp6(3),n.Q6J("ngIf",g.icon),n.xp6(1),n.ekj("label--wrap",p.isWrapLabel),n.xp6(1),n.hij(" ",n.lcZ(6,26,g.label)," "),n.xp6(2),n.Q6J("ngIf","big"===p.selectedType),n.xp6(1),n.Q6J("ngIf","small"===p.selectedType),n.xp6(1),n.Q6J("ngIf",!c&&"big"===p.dividerType),n.xp6(1),n.Q6J("ngIf",!c&&"small"===p.dividerType)}}function I(s,_){1&s&&n._UZ(0,"app-scratch",17)}let f=(()=>{class s{constructor(){this.items=[],this.isDisabled=!1,this.isChangeManually=!0,this.isShowDivider=!0,this.dividerType="none",this.selectedType="big",this.size="small",this.isUseStyle2=!1,this.isWrapLabel=!1,this.choose=new n.vpe,this.CHECKBOX_STATE=M.H}onSelect(g){this.isDisabled||!this.isChangeManually||(this.selectedItemId=g.id,this.choose.emit(g))}}return s.\u0275fac=function(g){return new(g||s)},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-radio-group"]],inputs:{items:"items",selectedItemId:"selectedItemId",isDisabled:"isDisabled",isChangeManually:"isChangeManually",isShowDivider:"isShowDivider",dividerType:"dividerType",selectedType:"selectedType",size:"size",isUseStyle2:"isUseStyle2",isWrapLabel:"isWrapLabel"},outputs:{choose:"choose"},decls:3,vars:2,consts:[[1,"container","g-flex","g-flex--align-center"],["class","item g-flex-column g-flex--align-center",3,"item--style2","pointer","app-btn-small_font-size","app-btn-medium_font-size","app-btn-medium-small_font-size","app-btn_font-size","app-btn-huge_font-size","item--disabled","item--selected",4,"ngFor","ngForOf"],["class","scratch","backgroundType","small",4,"ngIf"],[1,"item","g-flex-column","g-flex--align-center"],[1,"g-flex","g-flex--align-center"],[1,"g-flex-column","g-flex--align-center",3,"click"],[4,"ngIf"],[1,"label","text-shadow"],["class","item__divider","src","assets/images/ui/dividers/borders_v/border_v_silver_up.png","alt","",3,"item__divider--big","item__divider--wrap","item__divider--visible",4,"ngIf"],["class","item__divider item__divider-small","src","assets/images/ui/dividers/bolt/bolt.png","alt","",3,"item__divider--visible",4,"ngIf"],["class","divider","src","assets/images/ui/dividers/bolt/group-of-bolts.png","alt","",4,"ngIf"],["class","divider","src","assets/images/ui/dividers/bolt/bolt.png","alt","",4,"ngIf"],["alt","",3,"src"],["src","assets/images/ui/dividers/borders_v/border_v_silver_up.png","alt","",1,"item__divider"],["src","assets/images/ui/dividers/bolt/bolt.png","alt","",1,"item__divider","item__divider-small"],["src","assets/images/ui/dividers/bolt/group-of-bolts.png","alt","",1,"divider"],["src","assets/images/ui/dividers/bolt/bolt.png","alt","",1,"divider"],["backgroundType","small",1,"scratch"]],template:function(g,c){1&g&&(n.TgZ(0,"div",0),n.YNc(1,x,11,28,"div",1),n.qZA(),n.YNc(2,I,1,0,"app-scratch",2)),2&g&&(n.xp6(1),n.Q6J("ngForOf",c.items),n.xp6(1),n.Q6J("ngIf",c.isShowDivider))},dependencies:[w.sg,w.O5,T.T,O.X$],styles:[".pointer[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:url(/assets/images/cursor/cursor-50-active.avif) 10 0,pointer}.no-action[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:none}.hidden[_ngcontent-%COMP%]{display:none!important}.width-100[_ngcontent-%COMP%]{width:100%}@keyframes button-process-animation{0%{text-shadow:none}to{text-shadow:0 0 16px #dfa94e}}.button-process-animation[_ngcontent-%COMP%]{animation-duration:1s;animation-name:button-process-animation;animation-iteration-count:infinite;animation-direction:alternate}.page-loader[_ngcontent-%COMP%]{position:absolute;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5}.gap-2[_ngcontent-%COMP%]{gap:2px}.gap-4[_ngcontent-%COMP%]{gap:4px}.gap-6[_ngcontent-%COMP%]{gap:6px}.gap-8[_ngcontent-%COMP%]{gap:8px}.gap-10[_ngcontent-%COMP%]{gap:10px}.gap-12[_ngcontent-%COMP%]{gap:12px}.gap-14[_ngcontent-%COMP%]{gap:14px}.gap-16[_ngcontent-%COMP%]{gap:16px}.gap-18[_ngcontent-%COMP%]{gap:18px}.gap-20[_ngcontent-%COMP%]{gap:20px}.gap-22[_ngcontent-%COMP%]{gap:22px}.gap-24[_ngcontent-%COMP%]{gap:24px}.gap-26[_ngcontent-%COMP%]{gap:26px}.gap-28[_ngcontent-%COMP%]{gap:28px}.gap-30[_ngcontent-%COMP%]{gap:30px}.gap-32[_ngcontent-%COMP%]{gap:32px}.gap-34[_ngcontent-%COMP%]{gap:34px}.gap-36[_ngcontent-%COMP%]{gap:36px}.gap-38[_ngcontent-%COMP%]{gap:38px}.gap-40[_ngcontent-%COMP%]{gap:40px}.gap-42[_ngcontent-%COMP%]{gap:42px}.gap-44[_ngcontent-%COMP%]{gap:44px}.gap-46[_ngcontent-%COMP%]{gap:46px}.gap-48[_ngcontent-%COMP%]{gap:48px}.gap-50[_ngcontent-%COMP%]{gap:50px}.gap-52[_ngcontent-%COMP%]{gap:52px}.gap-54[_ngcontent-%COMP%]{gap:54px}.gap-56[_ngcontent-%COMP%]{gap:56px}.gap-58[_ngcontent-%COMP%]{gap:58px}.gap-60[_ngcontent-%COMP%]{gap:60px}.gap-62[_ngcontent-%COMP%]{gap:62px}.gap-64[_ngcontent-%COMP%]{gap:64px}.gap-66[_ngcontent-%COMP%]{gap:66px}.gap-68[_ngcontent-%COMP%]{gap:68px}.gap-70[_ngcontent-%COMP%]{gap:70px}.gap-72[_ngcontent-%COMP%]{gap:72px}.gap-74[_ngcontent-%COMP%]{gap:74px}.gap-76[_ngcontent-%COMP%]{gap:76px}.gap-78[_ngcontent-%COMP%]{gap:78px}.gap-80[_ngcontent-%COMP%]{gap:80px}.gap-82[_ngcontent-%COMP%]{gap:82px}.gap-84[_ngcontent-%COMP%]{gap:84px}.gap-86[_ngcontent-%COMP%]{gap:86px}.gap-88[_ngcontent-%COMP%]{gap:88px}.gap-90[_ngcontent-%COMP%]{gap:90px}.gap-92[_ngcontent-%COMP%]{gap:92px}.gap-94[_ngcontent-%COMP%]{gap:94px}.gap-96[_ngcontent-%COMP%]{gap:96px}.gap-98[_ngcontent-%COMP%]{gap:98px}.gap-100[_ngcontent-%COMP%]{gap:100px}.container[_ngcontent-%COMP%]{position:relative}.item[_ngcontent-%COMP%]{position:relative;color:#4b4137;-webkit-user-select:none;user-select:none;white-space:nowrap}.item--style2[_ngcontent-%COMP%]{color:#786c5c}.item[_ngcontent-%COMP%]:not(:last-of-type){margin-right:20px}.item--selected[_ngcontent-%COMP%]{color:inherit}.item--disabled[_ngcontent-%COMP%]{color:#a37c83}.item__divider[_ngcontent-%COMP%]{position:absolute;bottom:-20px;opacity:0;transition:all .16s ease}.item__divider--wrap[_ngcontent-%COMP%]{bottom:-30px}.item__divider--visible[_ngcontent-%COMP%]{opacity:1}.item__divider--big[_ngcontent-%COMP%]{bottom:-20px}.item__divider-small[_ngcontent-%COMP%]{bottom:-25px}.label[_ngcontent-%COMP%]{font-family:SellYouSoul,serif}.label--wrap[_ngcontent-%COMP%]{white-space:pre-line;text-align:center;line-height:1.2}.divider[_ngcontent-%COMP%]{margin-top:5px;margin-left:15px}.scratch[_ngcontent-%COMP%]{width:100%!important;margin-top:3px}"],changeDetection:0}),s})()}}]);